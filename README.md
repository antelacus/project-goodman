# Project Goodman - AI 智能财务助手

> **项目体验地址**：
> 
> https://project-goodman.vercel.app

## 项目概述

Project Goodman 是一款面向财务会计领域的智能 AI 助手，当前已提供财务信息提取、财务指标分析、财务合规指导等3个核心功能，具备专业、现代、统一的前端UI与交互体验。

## 开发目的

**财务会计需要被 AI 重塑**。对于财会领域的所有工作，AI 均可以提供巨大的帮助。本项目旨在通过开发 AI 财会助手，来展示作者对“ AI 如何改变和提速财务工作”的理解。

## 功能模块

### 模块一：财务信息提取 (`/data-extract`)
**功能描述**: 自动提取和分析财务文档中的关键信息

**核心功能**:
- ✅ 支持PDF格式的业务型文档上传
- ✅ 自动提取PDF文本内容
- ✅ AI智能分析文档内容
- ✅ 生成结构化分析结果
- ✅ 支持复制分析结果

**适用场景**: 发票、合同、财务报表等PDF文档的快速信息提取

### 模块二：财务指标分析 (`/financial-analysis`)
**功能描述**: 基于数据库文档进行财务分析和指标计算

**核心功能**:
- ✅ 展示预加载的数据库文档（受当前技术栈约束）
- ✅ 支持多选数据库文档用于分析
- ✅ AI智能对话，基于选中文档提供财务分析
- ✅ 向量相似度搜索，精准匹配相关内容
- ✅ 实时对话历史记录

**适用场景**: 财务准则咨询、税务政策分析、合规性检查

### 模块三：财务合规指导 (`/knowledge-chat`)
**功能描述**: 结合数据库文档和上传的待处理文档进行合规性分析和指导

**核心功能**:
- ✅ 展示预加载的数据库文档（受当前技术栈约束）
- ✅ 支持上传待处理文档，一次使用，不会永久存储（受当前技术栈约束）
- ✅ 智能文档处理（文本提取、向量化、摘要生成）
- ✅ AI 合规性分析和建议
- ✅ 多文档联合分析

**适用场景**: 财务合规性检查、税务筹划建议、风险识别

### 文档管理模块
**功能描述**: 统一存储项目所需用到的所有文档

**核心功能**:
- ✅ 支持"数据库"文档与"待处理"文档分类
- ✅ 页面复选框可多选文档
- ✅ 文档选择区与各功能模块的文档列表实时同步
- ✅ 上传新文档后，所有页面文档列表自动刷新

## 使用说明

### 快速开始
1. 访问项目首页
2. 选择需要使用的模块
3. 按照模块指引进行操作
4. 与AI助手进行交互

### 模块选择指南
- **文档信息提取** → 模块一
- **财务准则咨询** → 模块二  
- **合规性分析** → 模块三

### 最佳实践
- 上传清晰的PDF文档以获得最佳分析结果
- 选择相关的数据库文档以获得更准确的回答
- 提供具体的问题描述以获得更有针对性的建议

## 技术栈

- **前端框架**: Next.js 15.3.3, React 19
- **AI 服务**: OpenAI GPT-4.1, OpenAI Embeddings
- **文档处理**: pdfjs-dist, xlsx
- **状态管理**: Zustand
- **样式**: Tailwind CSS 4
- **部署**: Vercel (兼容免费版)

## 项目架构

### 数据方案
- **数据库文档**: 预处理的财务准则、税务指南等，存储在 `data/documents/` 目录
- **待处理文档**: 用户上传的财务报表、合同等，前端临时处理，不持久化存储
- **无数据库依赖**: 完全兼容 Vercel 免费版的无状态环境

### 目录结构
```
project-goodman/
├── data/
│   ├── documents/                    # 预处理的知识型文档 JSON 文件
│   │   ├── 2024年度资产负债表.json
│   │   ├── 增值税法.json
│   │   └── 数据资源准则.json
│   └── showcases/                    # 展示案例图片
│       ├── data-extract/
│       ├── financial-analysis/
│       └── guidance-chat/
├── public/                           # 静态资源（logo、svg等）
├── src/
│   ├── app/
│   │   ├── about/                    # 关于/帮助页面
│   │   ├── api/                      # API 路由
│   │   │   ├── data-extract/         # 财务信息提取接口
│   │   │   ├── documents/            # 文档处理相关接口
│   │   │   ├── financial-analysis/   # 财务指标分析接口
│   │   │   ├── guidance-chat/        # 财务合规指导接口
│   │   │   ├── local-documents/      # 本地文档加载
│   │   │   └── upload/               # 文件上传
│   │   ├── data-extract/             # 模块一：财务信息提取
│   │   ├── documents/                # 文档管理页面
│   │   ├── financial-analysis/       # 模块二：财务指标分析
│   │   ├── guidance-chat/            # 模块三：财务合规指导
│   │   ├── showcase/                 # 案例演示页面
│   │   └── layout.tsx                # 全局布局
│   ├── components/                   # 可复用组件
│   ├── lib/                          # 工具库与AI prompt
│   └── store/                        # 状态管理
├── package.json
├── README.md
└── ...
```

## 技术优势

### AI 能力
- **GPT-4.1 模型**: 最新的大语言模型，提供高质量回答
- **向量嵌入**: 使用 OpenAI Embeddings 进行语义搜索
- **相似度计算**: 余弦相似度算法，精准匹配相关内容
- **上下文理解**: 支持多轮对话和文档上下文

### 文档处理
- **智能分块**: 自动将文档分割为可处理的chunks
- **向量化存储**: 预处理的文档包含embedding向量
- **实时处理**: 上传文档即时处理和分析

### 用户体验
- **响应式设计**: 适配桌面和移动设备
- **分步工作流**: 功能页面采用分步引导，步骤标题、提示清晰
- **实时反馈**: 加载状态、处理进度提示
- **直观操作**: 拖拽上传、多选文档、实时对话
- **错误处理**: 友好的错误提示和恢复机制
- **AI对话优化**: 支持Markdown与LaTeX公式渲染，所有计算过程和结果高亮、可点击校验
- **其他细节**: 弹窗自由关闭，文档自动勾选，提供预设提问等细节等待发现👀

## 部署指南

### 环境要求
- Node.js 18+ 
- npm 或 yarn
- OpenAI API Key

### 本地开发
```bash
# 克隆项目
git clone <repository-url>
cd project-goodman

# 安装依赖
npm install

# 配置环境变量
cp .env.example .env.local
# 编辑 .env.local，添加你的 OpenAI API Key

# 启动开发服务器
npm run dev
```

### Vercel 部署
1. **准备部署**:
   ```bash
   # 构建项目
   npm run build
   
   # 检查构建结果
   npm run start
   ```

2. **Vercel 配置**:
   - 连接 GitHub 仓库
   - 设置环境变量 `OPENAI_API_KEY`
   - 选择 Next.js 框架
   - 部署到 Vercel

3. **环境变量设置**:
   ```
   OPENAI_API_KEY=your_openai_api_key_here
   ```

### 部署注意事项
- ✅ 项目已优化为无数据库依赖，完全兼容 Vercel 免费版
- ✅ 知识型文档已预处理并包含在代码仓库中
- ✅ 业务型文档仅临时处理，不占用存储空间
- ✅ API 路由已优化，支持 Vercel 的无状态环境

## 开发进度

### ✅ 已完成功能
- [x] 三个核心模块的基础功能
- [x] 数据库文档预处理
- [x] 文档上传和管理系统
- [x] 响应式用户界面和整体UI构建
- [x] AI 对话UI构建
- [x] AI 对话prompt构建
- [x] AI 对话和文档向量搜索实现
- [x] AI 对话中Markdown和LaTeX公式渲染
- [x] AI 对话中数学计算校验
- [x] 进度提示、状态管理和错误处理
- [x] 案例展示构建
- [x] Vercel部署展示网站

### 🔄 修复&优化
- [ ] UI/UX 优化
- [ ] prompt优化
- [ ] “财务信息提取”升级为财务信息处理工作流，增加更多信息应用途径
- [ ] “财务指标分析”支持更专业和更长流程的财务分析
- [ ] “财务合规指导”增加更多数据库文档


### 📋 计划中
- [ ] 升级后端数据库，这将支持：
   - [ ] 用户/登录
   - [ ] 用户权限管理
   - [ ] 自定义prompt
   - [ ] 更多文档格式支持
   - [ ] 数据库文档上传和管理
   - [ ] 数据导出功能
- [ ] 高级分析功能
- [ ] 语言切换
- [ ] 更多厂商API支持



## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进项目。

## 许可证

MIT License

---
